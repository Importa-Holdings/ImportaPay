(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{610:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(5155),a=t(2115),i=t(8749),o=t(2657),n=t(6671),l=t(5597),c=t(3464),d=t(5695),u=t(4995);function h(){let{login:e,isLoading:r}=function(){let[e,r]=(0,a.useState)(!1),t=(0,d.useRouter)(),{setUser:s,setToken:i}=(0,u.nc)();return{login:async e=>{r(!0);try{let r=await c.A.post("https://admin-api.pay.importa.biz/api/auth/login",e,{headers:{"Content-Type":"application/json",Accept:"*/*","X-CSRF-TOKEN":""},withCredentials:!0});if(r.status>=200&&r.status<300){let{data:e}=r.data,{user:a,access_token:o}=e;return s(a),o&&(i(o),localStorage.setItem("token",o)),n.oR.success("Login successful! Redirecting to dashboard..."),setTimeout(()=>{t.push("/dashboard")},1500),{success:!0}}throw Error("Login failed")}catch(r){console.error("Login error:",r);let e="Invalid email or password";if(c.A.isAxiosError(r)){var a,o;e=(null==(o=r.response)||null==(a=o.data)?void 0:a.message)||r.message||e}else r instanceof Error&&(e=r.message);return n.oR.error(e),{success:!1,error:e}}finally{r(!1)}},isLoading:e}}(),[t,h]=(0,a.useState)({email:"",password:""}),[p,x]=(0,a.useState)(!1),g=e=>{let{name:r,value:t}=e.target;h(e=>({...e,[r]:t}))},m=async r=>{r.preventDefault(),await e(t)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.F,{}),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,s.jsx)("form",{onSubmit:m,className:"w-full max-w-md",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Login"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Email address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:g,placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-200 rounded-xl placeholder-gray-400 text-gray-900 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"current-password",required:!0,value:t.password,onChange:g,placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl placeholder-gray-400 text-gray-900 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors"}),(0,s.jsx)("button",{type:"button",onClick:()=>x(!p),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-500 hover:text-gray-700 transition-colors",children:p?(0,s.jsx)(i.A,{className:"w-5 h-5"}):(0,s.jsx)(o.A,{className:"w-5 h-5"})})]})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)("button",{type:"submit",disabled:r,className:"w-full ".concat(r?"bg-purple-400":"bg-purple-600 hover:bg-purple-700"," text-white font-medium py-3 px-4 rounded-xl transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-75 disabled:cursor-not-allowed"),children:r?"Signing in...":"Sign in"})})]})})})}),(0,s.jsx)(n.l$,{position:"top-right",richColors:!0})]})}},875:(e,r,t)=>{Promise.resolve().then(t.bind(t,610))},2657:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3999:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(2596),a=t(9688);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},4783:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(9946).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},4995:(e,r,t)=>{"use strict";t.d(r,{nc:()=>i});var s=t(5453),a=t(6786);let i=(0,s.v)()((0,a.Zr)(e=>({user:null,token:null,isAuthenticated:!1,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>e({token:r}),logout:()=>e({user:null,token:null,isAuthenticated:!1})}),{name:"auth-storage",storage:(0,a.KU)(()=>localStorage)}))},5597:(e,r,t)=>{"use strict";t.d(r,{F:()=>x});var s=t(5155),a=t(2115),i=t(7168),o=t(4416),n=t(4783),l=t(6766),c=t(6874),d=t.n(c),u=t(5695),h=t(6671),p=t(4995);let x=()=>{let[e,r]=(0,a.useState)(!1),t=(0,u.usePathname)(),{logout:c}=function(){let e=(0,u.useRouter)(),{logout:r,token:t}=(0,p.nc)();return{logout:async()=>{try{let s={Accept:"application/json","Content-Type":"application/json"};if(t&&(s.Authorization="Bearer ".concat(t)),(await fetch("https://admin-api.pay.importa.biz/api/auth/logout",{method:"POST",headers:s,credentials:"include"})).ok)r(),h.oR.success("Logged out successfully"),e.push("/login"),e.refresh();else throw Error("Logout failed")}catch(e){console.error("Logout error:",e),h.oR.error("Failed to log out. Please try again.")}}}}(),{user:x,isLoading:g}=function(){let[e,r]=(0,a.useState)(!0),[t,s]=(0,a.useState)(null),{user:i,setUser:o,token:n}=(0,p.nc)(),l=(0,a.useCallback)(async()=>{if(!n)return r(!1),null;try{r(!0);let e=await fetch("https://admin-api.pay.importa.biz/api/auth/user",{method:"GET",headers:{Accept:"*/*","X-CSRF-TOKEN":"",Authorization:"Bearer ".concat(n)},credentials:"include"});if(!e.ok)throw Error("Failed to fetch user data");let t=await e.json();return o(t),t}catch(e){return console.error("Error fetching user:",e),s(e instanceof Error?e:Error("An unknown error occurred")),h.oR.error("Failed to load user data"),null}finally{r(!1)}},[n,o]);return(0,a.useEffect)(()=>{n&&!i?l():r(!1)},[n,i,l]),{user:i,isLoading:e,error:t,refetch:async()=>await l()}}(),m=(0,p.nc)(e=>e.isAuthenticated),b=t.startsWith("/dashboard");return(0,s.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/10 border-b border-white/20",children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(d(),{href:"/",children:(0,s.jsx)(l.default,{src:"/image/logo2.png",alt:"logo",height:50,width:140,className:"w-[140px] h-[30px]"})})}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:m&&x?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"text-white",children:(0,s.jsx)(d(),{href:"/dashboard",className:"text-white hover:text-white transition-colors duration-200",children:"Dashboard"})}),(0,s.jsx)(i.$,{onClick:c,variant:"secondary",className:"bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm cursor-pointer",disabled:g,children:g?"Logging out...":"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{href:"/home",className:"text-white hover:text-white transition-colors duration-200",children:"Home"}),(0,s.jsx)(d(),{href:"/blog",className:"text-white hover:text-white transition-colors duration-200",children:"Blog"}),b?(0,s.jsx)(i.$,{onClick:c,variant:"secondary",className:"bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm cursor-pointer",children:"Logout"}):(0,s.jsx)(i.$,{variant:"secondary",className:"bg-[#6A0DAD] text-white hover:bg-white/30 backdrop-blur-sm cursor-pointer",children:"Download app"})]})}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("button",{onClick:()=>r(!e),className:"text-[#6A0DAD] hover:text-[#6A0DAD] transition-colors duration-200",children:e?(0,s.jsx)(o.A,{size:24}):(0,s.jsx)(n.A,{size:24})})})]})}),e&&(0,s.jsx)("div",{className:"md:hidden backdrop-blur-md bg-[#6A0DAD]/10 border-t border-white/20",children:(0,s.jsx)("div",{className:"px-4 pt-2 pb-4 space-y-2",children:m&&x?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"px-3 py-2 text-white",children:[x.first_name," ",x.last_name]}),(0,s.jsx)(i.$,{onClick:()=>{c(),r(!1)},variant:"secondary",className:"w-full bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm",disabled:g,children:g?"Logging out...":"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{href:"/home",className:"block px-3 py-2 text-white hover:text-white transition-colors duration-200",onClick:()=>r(!1),children:"Home"}),(0,s.jsx)(d(),{href:"/blog",className:"block px-3 py-2 text-white hover:text-white transition-colors duration-200",onClick:()=>r(!1),children:"Blog"}),(0,s.jsx)("div",{className:"px-3 pt-2",children:b?(0,s.jsx)(i.$,{onClick:()=>{c(),r(!1)},variant:"secondary",className:"w-full bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm",children:"Logout"}):(0,s.jsx)(i.$,{variant:"secondary",className:"w-full bg-[#6A0DAD] text-white hover:bg-white/30 backdrop-blur-sm",onClick:()=>r(!1),children:"Download app"})})]})})})]})}},7168:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(5155);t(2115);var a=t(9708),i=t(2085),o=t(3999);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:i,asChild:l=!1,...c}=e,d=l?a.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,o.cn)(n({variant:t,size:i,className:r})),...c})}},8749:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[9,753,336,874,464,441,684,358],()=>r(875)),_N_E=e.O()}]);