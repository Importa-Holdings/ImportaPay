"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{3999:(e,r,t)=>{t.d(r,{cn:()=>o});var a=t(2596),s=t(9688);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},4995:(e,r,t)=>{t.d(r,{nc:()=>o});var a=t(5453),s=t(6786);let o=(0,a.v)()((0,s.Zr)(e=>({user:null,token:null,isAuthenticated:!1,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>e({token:r}),logout:()=>e({user:null,token:null,isAuthenticated:!1})}),{name:"auth-storage",storage:(0,s.KU)(()=>localStorage)}))},5597:(e,r,t)=>{t.d(r,{F:()=>b});var a=t(5155),s=t(2115),o=t(7168),i=t(6474),n=t(2024),l=t(6767),c=t(4416),d=t(4783),h=t(6766),u=t(6874),p=t.n(u),x=t(5695),g=t(6671),m=t(4995);let b=()=>{let[e,r]=(0,s.useState)(!1),[t,u]=(0,s.useState)(!1),b=(0,x.usePathname)(),{logout:v}=function(){let e=(0,x.useRouter)(),{logout:r,token:t}=(0,m.nc)();return{logout:async()=>{try{let a={Accept:"application/json","Content-Type":"application/json"};if(t&&(a.Authorization="Bearer ".concat(t)),(await fetch("https://admin-api.pay.importa.biz/api/auth/logout",{method:"POST",headers:a,credentials:"include"})).ok)r(),g.oR.success("Logged out successfully"),e.push("/login"),e.refresh();else throw Error("Logout failed")}catch(e){console.error("Logout error:",e),g.oR.error("Failed to log out. Please try again.")}}}}(),{user:f,isLoading:w}=function(){let[e,r]=(0,s.useState)(!0),[t,a]=(0,s.useState)(null),{user:o,setUser:i,token:n}=(0,m.nc)(),l=(0,s.useCallback)(async()=>{if(!n)return r(!1),null;try{r(!0);let e=await fetch("https://admin-api.pay.importa.biz/api/auth/user",{method:"GET",headers:{Accept:"*/*","X-CSRF-TOKEN":"",Authorization:"Bearer ".concat(n)},credentials:"include"});if(!e.ok)throw Error("Failed to fetch user data");let t=await e.json();return i(t),t}catch(e){return console.error("Error fetching user:",e),a(e instanceof Error?e:Error("An unknown error occurred")),g.oR.error("Failed to load user data"),null}finally{r(!1)}},[n,i]);return(0,s.useEffect)(()=>{n&&!o?l():r(!1)},[n,o,l]),{user:o,isLoading:e,error:t,refetch:async()=>await l()}}(),y=(0,m.nc)(e=>e.isAuthenticated),j=b.startsWith("/dashboard");return(0,a.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/10 border-b border-white/20",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(p(),{href:"/",children:(0,a.jsx)(h.default,{src:"/image/logo2.png",alt:"logo",height:50,width:140,className:"w-[140px] h-[30px]"})})}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:y&&f?(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-white",children:(0,a.jsx)(p(),{href:"/dashboard",className:"text-white hover:text-white transition-colors duration-200",children:"Dashboard"})}),(0,a.jsx)(o.$,{onClick:v,variant:"secondary",className:"bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm cursor-pointer",disabled:w,children:w?"Logging out...":"Logout"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p(),{href:"/home",className:"text-white hover:text-white transition-colors duration-200",children:"Home"}),(0,a.jsx)(p(),{href:"/blog",className:"text-white hover:text-white transition-colors duration-200",children:"Blog"}),j?(0,a.jsx)(o.$,{onClick:v,variant:"secondary",className:"bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm cursor-pointer",children:"Logout"}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(o.$,{variant:"secondary",className:"bg-[#6A0DAD] text-white hover:bg-white/30 backdrop-blur-sm cursor-pointer flex items-center gap-1",onClick:()=>u(!t),children:["Download app",(0,a.jsx)(i.A,{className:"w-4 h-4 transition-transform ".concat(t?"transform rotate-180":"")})]}),t&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:(0,a.jsxs)("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[(0,a.jsxs)("a",{href:"https://apps.apple.com/app/id6752268757",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mr-2 text-gray-500"}),"Download for iOS"]}),(0,a.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=com.importapay",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 mr-2 text-gray-500"}),"Download for Android"]})]})})]})]})}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)("button",{onClick:()=>r(!e),className:"text-[#6A0DAD] hover:text-[#6A0DAD] transition-colors duration-200",children:e?(0,a.jsx)(c.A,{size:24}):(0,a.jsx)(d.A,{size:24})})})]})}),e&&(0,a.jsx)("div",{className:"md:hidden backdrop-blur-md bg-[#6A0DAD]/10 border-t border-white/20",children:(0,a.jsx)("div",{className:"px-4 pt-2 pb-4 space-y-2",children:y&&f?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"px-3 py-2 text-white",children:[f.first_name," ",f.last_name]}),(0,a.jsx)(o.$,{onClick:()=>{v(),r(!1)},variant:"secondary",className:"w-full bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm",disabled:w,children:w?"Logging out...":"Logout"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p(),{href:"/home",className:"block px-3 py-2 text-white hover:text-white transition-colors duration-200",onClick:()=>r(!1),children:"Home"}),(0,a.jsx)(p(),{href:"/blog",className:"block px-3 py-2 text-white hover:text-white transition-colors duration-200",onClick:()=>r(!1),children:"Blog"}),(0,a.jsx)("div",{className:"space-y-3 px-3 pt-2",children:j?(0,a.jsx)(o.$,{onClick:()=>{v(),r(!1)},variant:"secondary",className:"w-full bg-red-600 text-white hover:bg-red-700 backdrop-blur-sm",children:"Logout"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("a",{href:"https://apps.apple.com/app/id6752268757",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-[#6A0DAD] text-white hover:bg-white/30 backdrop-blur-sm px-4 py-2 rounded-md transition-colors duration-200",onClick:()=>r(!1),children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),"Download for iOS"]}),(0,a.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=com.importapay",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-[#6A0DAD] text-white hover:bg-white/30 backdrop-blur-sm px-4 py-2 rounded-md transition-colors duration-200",onClick:()=>r(!1),children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"Download for Android"]})]})})]})})})]})}},7168:(e,r,t)=>{t.d(r,{$:()=>l});var a=t(5155);t(2115);var s=t(9708),o=t(2085),i=t(3999);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:o,asChild:l=!1,...c}=e,d=l?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(n({variant:t,size:o,className:r})),...c})}}}]);