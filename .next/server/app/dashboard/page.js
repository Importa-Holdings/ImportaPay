(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},12941:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},16890:(e,r,t)=>{Promise.resolve().then(t.bind(t,46836))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27506:(e,r,t)=>{Promise.resolve().then(t.bind(t,64118))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46836:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(60687);t(43210);var a=t(85814),o=t.n(a),i=t(89654),n=t(16189),l=t(93042),d=t(56273);function c(){let e=(0,n.useRouter)(),{user:r,token:t}=(0,d.nc)(),{posts:a,loading:c,error:p,hasMore:u,loadMore:x}=(0,l.j)();return c?(0,s.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,s.jsx)(i.F,{}),(0,s.jsx)("div",{className:"max-w-5xl mx-auto w-full pt-12 pb-8 px-4 mt-12",children:(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-700"})})})]}):p?(0,s.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,s.jsx)(i.F,{}),(0,s.jsx)("div",{className:"max-w-5xl mx-auto w-full pt-12 pb-8 px-4 mt-12",children:(0,s.jsxs)("div",{className:"text-red-500 text-center py-12",children:["Error loading posts: ",p.message]})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,s.jsx)(i.F,{}),(0,s.jsxs)("div",{className:"max-w-5xl mx-auto w-full pt-12 pb-8 px-4 mt-12",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Home"}),(0,s.jsx)("button",{className:"bg-purple-700 text-white px-6 py-2 rounded-xl font-semibold shadow hover:bg-purple-800 transition",onClick:()=>e.push("/dashboard/upload"),children:"+ New post"})]}),(0,s.jsx)("div",{className:"font-medium mb-4",children:"Recent posts"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:a.map(e=>(0,s.jsxs)(o(),{href:`/blog/${e.id}`,className:"bg-white rounded-xl shadow-sm border border-gray-100 flex flex-col hover:shadow-md transition-shadow",children:[(0,s.jsx)("div",{className:"bg-gray-100 rounded-t-xl h-56 flex items-center justify-center overflow-hidden",children:e.imageUrl?(0,s.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-md flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-gray-400",children:"No image"})})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium",children:e.category}),(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:e.date})]}),(0,s.jsx)("h3",{className:"font-bold text-lg leading-snug mb-2 line-clamp-2",children:e.title}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm line-clamp-3",children:[e.description||e.content.substring(0,150),"..."]})]})]},e.id))}),u&&(0,s.jsx)("div",{className:"flex justify-center mb-12",children:(0,s.jsx)("button",{onClick:x,disabled:c,className:`border border-purple-500 text-purple-600 px-8 py-2 rounded-xl font-medium transition ${c?"opacity-50 cursor-not-allowed":"hover:bg-purple-50"}`,children:c?"Loading...":"Load More"})})]}),(0,s.jsx)("div",{className:"fixed bottom-6 left-0 w-full flex justify-center",children:(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-full flex items-center px-8 py-3 space-x-12 border border-gray-200",children:[(0,s.jsxs)(o(),{href:"/dashboard",className:"flex flex-col items-center text-purple-700 hover:text-purple-800 cursor-pointer hover:scale-105 transition-transform",children:[(0,s.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home mb-1",children:[(0,s.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,s.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),(0,s.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,s.jsxs)(o(),{href:"/dashboard/upload",className:"flex flex-col items-center text-gray-500 hover:text-purple-700 cursor-pointer hover:scale-105 transition-transform",children:[(0,s.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text mb-1",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,s.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,s.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,s.jsx)("polyline",{points:"10 9 9 9 8 9"})]}),(0,s.jsx)("span",{className:"text-xs",children:"Drafts"})]}),(0,s.jsxs)(o(),{href:"/blog",className:"flex flex-col items-center text-gray-500 hover:text-purple-700 cursor-pointer hover:scale-105 transition-transform",children:[(0,s.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check-square mb-1",children:[(0,s.jsx)("polyline",{points:"9 11 12 14 22 4"}),(0,s.jsx)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),(0,s.jsx)("span",{className:"text-xs",children:"Published"})]})]})})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61619:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(65239),a=t(48088),o=t(88170),i=t.n(o),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64118)),"C:\\Users\\godwi\\Downloads\\newimportapay\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\godwi\\Downloads\\newimportapay\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\godwi\\Downloads\\newimportapay\\app\\dashboard\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64118:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\godwi\\\\Downloads\\\\newimportapay\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\godwi\\Downloads\\newimportapay\\app\\dashboard\\page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},93042:(e,r,t)=>{"use strict";t.d(r,{j:()=>i});var s=t(43210),a=t(56273),o=t(41858);function i(){let[e,r]=(0,s.useState)([]),[t,i]=(0,s.useState)(!0),[n,l]=(0,s.useState)(null),[d,c]=(0,s.useState)({currentPage:1,lastPage:1,hasMore:!1,total:0,perPage:2}),{user:p,token:u}=(0,a.nc)(),x=(0,s.useCallback)(e=>{let r=e.created_at?new Date(e.created_at):new Date;return{id:e.id.toString(),title:e.title,description:e.subtitle||"",category:e.categories?.name||"Uncategorized",date:r.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),authors:[{initial:p?.first_name?.charAt(0)||"U",color:`bg-${["purple","blue","green","yellow","red","pink","indigo"][p?.id?Number(p.id)%7:0]}-500`}],content:e.content,imageUrl:e.image?e.image.startsWith("http")?e.image:`https://admin-api.pay.importa.biz/storage/${e.image.replace(/^\//,"")}`:void 0,is_published:1===e.is_published}},[p]),h=(0,s.useCallback)(async(e=1)=>{try{i(!0);let r={headers:{accept:"application/json",...u&&{Authorization:`Bearer ${u}`}},withCredentials:!0},{data:t,current_page:s,last_page:a,total:n}=(await o.A.get(`https://admin-api.pay.importa.biz/api/posts?page=${e}`,r)).data.data;if(!Array.isArray(t))throw Error("Invalid data format received from API");let l=t.map(x);return c(e=>({currentPage:s,lastPage:a,hasMore:s<a,total:n,perPage:e.perPage})),l}catch(e){return console.error("Error in fetchPosts:",e),l(e.response?Error(`HTTP error! status: ${e.response.status}`):Error("Failed to fetch posts")),[]}finally{i(!1)}},[u,x]),m=async()=>{if(d.hasMore)try{let e=d.currentPage+1,t=await h(e);r(e=>[...e,...t])}catch(e){console.error("Error loading more posts:",e),l(e instanceof Error?e:Error("Failed to load more posts"))}};return{posts:e,loading:t,error:n,hasMore:d.hasMore,loadMore:m}}},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,423,15,946,814,780,858,131],()=>t(61619));module.exports=s})();